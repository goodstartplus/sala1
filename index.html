<!DOCTYPE html>

<head>


	
    <title>Quarta do vocabul√°rio - ao vivo</title>
    <meta charset="utf-8" />
    <link type="text/css" rel="stylesheet" href="https://source.zoom.us/3.11.0/css/bootstrap.css" />
    
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<script src="/coi-sw.js"></script>
     
</head>

<body>
  

    <nav id="nav-tool" class="navbar navbar-inverse navbar-fixed-top">
        <div id="aaaa" class="container">
            <div class="navbar-header">
                <a class="navbar-brand" href="https://goodstart.com.br/area-do-aluno">Aula Online (ao vivo)</a>
                
                <a class="navbar-brand3" href="https://goodstart.com.br/area-do-aluno">Quarta do Vocabul√°rio</a>
            </div>
            <div id="navbar" class="websdktest">
                <form class="navbar-form navbar-right" id="meeting_form">
                    <div class="form-group">
                        <input type="text" name="display_name" id="display_name" value="Novo aluno" maxLength="100"
                            
       data-o-member="FirstName" placeholder="Escreva seu nome..." class="form-control" required>
                    </div>
                    <div class="form-group">
                        <input type="text" name="meeting_number" id="meeting_number" value="87370145813" maxLength="200"
                            style="width:150px" placeholder="C√≥digo da aula" class="form-control" required>
                    </div>
                    <div class="form-group">
                        <input type="text" name="meeting_pwd" id="meeting_pwd" value="0fGYcM" style="width:150px"
                            maxLength="32" placeholder="Senha da aula" class="form-control">
                    </div>
                    <div class="form-group">
                        <input type="text" name="meeting_email" id="meeting_email" value="" style="width:150px"
                            maxLength="32" placeholder="Email option" class="form-control">
                    </div>

                    <div class="form-group">
                        <select id="meeting_role" class="sdk-select">
                            <option value=0>Attendee</option>
                            
                        </select>
                    </div>
                    <div class="form-group">
                        <select id="meeting_china" class="sdk-select">
                            <option value=0>Global</option>
                            
                        </select>
                    </div>
                    <div class="form-group">
                        <select id="meeting_lang" class="sdk-select">
                          <option value="pt-PT">Portuguese Portuguese</option>  
                          <option value="en-US">English</option>                     
                            
                            
                        </select>
                    </div>

                    <input type="hidden" value="" id="copy_link_value" />
                  
                    <button type="submit" class="btn btn-primary" id="join_meeting">Entrar na aula</button>
                     
                    <button type="submit" class="btn btn-primary" id="clear_all">Clear</button>
                    <button type="button" link="" onclick="window.copyJoinLink('#copy_join_link')"
                        class="btn btn-primary" id="copy_join_link">Copy Direct join link</button>
                  
                     <div class="popup" onclick="myFunction()">Entrando pelo celular?
  <span class="popuptext" id="myPopup">Voc√™ precisa habilitar a c√¢mera e microfone do seu dispositivo. <a href="https://tally.so/r/n0BkB0">Clique aqui.</a></span>
</div>

                </form>
             
            </div>
            <div class="gs"><a class="gsa">Goodstart +</a></div>
          <!--/.navbar-collapse -->
        </div>
    </nav>

	<script>
// When the user clicks on div, open the popup
function myFunction() {
  var popup = document.getElementById("myPopup");
  popup.classList.toggle("show");
}
</script>


	
    <script src="https://source.zoom.us/3.11.0/lib/vendor/react.min.js"></script>
    <script src="https://source.zoom.us/3.11.0/lib/vendor/react-dom.min.js"></script>
    <script src="https://source.zoom.us/3.11.0/lib/vendor/redux.min.js"></script>
    <script src="https://source.zoom.us/3.11.0/lib/vendor/redux-thunk.min.js"></script>
    <script src="https://source.zoom.us/3.11.0/lib/vendor/lodash.min.js"></script>
    <script src="https://source.zoom.us/zoom-meeting-3.11.0.min.js"></script>
    <script src="/js/tool.js"></script>
    <script src="/js/vconsole.min.js"></script>
    <script src="/js/meeting.js"></script>
     <script src="/coi-sw.js"></script>
	

 <script src="https://cdnjs.cloudflare.com/ajax/libs/jsrsasign/10.5.18/jsrsasign-all-min.js"></script>
<script>
document.getElementById('join_meeting').addEventListener('click', function (e) {
  e.preventDefault();

  const meetingNumber = document.getElementById('meeting_number').value;
  const userName = document.getElementById('display_name').value;
  const passWord = document.getElementById('meeting_pwd').value;

  // üîê Fetch the signature from the backend
  fetch('http://localhost:4000/generateSignature', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ meetingNumber: meetingNumber, role: 0 }) // 0 = Attendee
  })
  .then(response => response.json())
  .then(data => {
    const signature = data.signature;

    // üîÑ Redirect to meeting.html with signature
    window.location.href = `meeting.html?mn=${meetingNumber}&name=${encodeURIComponent(userName)}&pwd=${passWord}&signature=${signature}`;
  })
  .catch(error => {
    console.error('‚ùå Error fetching signature:', error);
    alert('Erro ao gerar a assinatura. Verifique a conex√£o com o servidor.');
  });
});
</script>


</body>

</html>
